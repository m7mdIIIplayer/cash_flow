<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¡ Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <style>
    body {
      font-family: "Cairo", sans-serif;
      background: #000;
      color: #fff;
      text-align: center;
      overflow: hidden;
    }

    h2 {
      margin-top: 20px;
      color: gold;
      text-shadow: 0 0 10px gold;
    }

    /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠØ© */
    #wheel-container {
      position: relative;
      width: min(90vw, 70vh);
      height: min(90vw, 70vh);
      margin: 40px auto 0;
      border-radius: 50%;
      overflow: hidden; /* ÙŠÙ…Ù†Ø¹ Ø®Ø±ÙˆØ¬ Ø§Ù„ØµÙˆØ±Ø© */
      background: #000; /* Ø®Ù„ÙÙŠØ© Ø¯Ø§Ø¦Ø±ÙŠØ© */
    }

    /* Ø§Ù„Ù…Ø¤Ø´Ø± */
    #pointer {
      position: absolute;
      top: 50%;
      right: -12px;
      transform: translateY(-50%);
      width: 30px;
      height: 30px;
      background: red;
      clip-path: polygon(0 50%, 100% 0, 100% 100%);
      z-index: 10;
    }

    /* Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø¯ÙˆÙ† ØªØ´ÙˆÙŠÙ‡ */
    #wheel {
      width: 100%;
      height: 100%;
      object-fit: contain; /* Ø£Ù‡Ù… Ø³Ø·Ø± */
      position: absolute;
      top: 0;
      left: 0;
      transition: transform 6s cubic-bezier(0.33, 1, 0.68, 1);
    }

    #result {
      margin-top: 20px;
      font-size: 22px;
      color: gold;
      text-shadow: 0 0 10px gold;
    }
  </style>
</head>

<body>

  <h2>ğŸ° Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</h2>

  <div id="wheel-container">
    <div id="pointer"></div>
    <img id="wheel" src="wheel.png">
  </div>

  <div id="result">Ø¬Ø§Ø±ÙŠ ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©...</div>

  <script>
    const prizes = [
      "Ø­Ø¸ Ø£ÙˆÙØ±",  // 0
      "5000",     // 1
      "10000",    // 2
      "15000",    // 3
      "25000",    // 4
      "100000",   // 5
      "250000",   // 6
      "1000000",  // 7
      "5000000",  // 8
      "10000000"  // 9
    ];

    const params = new URLSearchParams(location.search);
    const result = params.get("result") || "0";

    function getPrizeIndex(res) {
      switch (res) {
        case "0": return 0;
        case "5000": return 1;
        case "10000": return 2;
        case "15000": return 3;
        case "25000": return 4;
        case "100000": return 5;
        case "250000": return 6;
        case "1000000": return 7;
        case "5000000": return 8;
        case "10000000": return 9;
        default: return 0;
      }
    }

    const prizeIndex = getPrizeIndex(result);

    const wheel = document.getElementById("wheel");
    const resultDiv = document.getElementById("result");

    const slices = prizes.length;
    const sliceDeg = 360 / slices;

    // Ø­Ø³Ø§Ø¨ Ø²Ø§ÙˆÙŠØ© Ø§Ù„ØªÙˆÙ‚Ù
    const stopAngle = 360 - (prizeIndex * sliceDeg + sliceDeg / 2);

    // 6 Ø¯ÙˆØ±Ø§Øª ÙƒØ§Ù…Ù„Ø© + Ø²Ø§ÙˆÙŠØ© Ø§Ù„ØªÙˆÙ‚Ù
    const finalRotation = 360 * 6 + stopAngle;

    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
    setTimeout(() => {
      wheel.style.transform = `rotate(${finalRotation}deg)`;
    }, 500);

    // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªÙˆÙ‚Ù
    setTimeout(() => {
      resultDiv.innerHTML =
        prizeIndex === 0
          ? "ğŸ˜¢ <b>Ø­Ø¸ Ø£ÙˆÙØ±! Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</b>"
          : `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª <b>${prizes[prizeIndex]}</b>`;
    }, 6500);
  </script>

</body>
</html>
